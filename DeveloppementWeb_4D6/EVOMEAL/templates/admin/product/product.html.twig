{% extends 'core/base.html.twig' %}
{% if add_product_form is defined %}
	{% form_theme add_product_form 'bootstrap_5_layout.html.twig' %}
{% endif %}
{% if modify_product_form is defined %}
	{% form_theme modify_product_form 'bootstrap_5_layout.html.twig' %}
{% endif %}

{% block body %}
	{% for flash in app.flashes('product_update') %}
		<div class="fs-3 fw-bold fst-italic m-3 p-3 text-center bg-dark rounded {{ flash.color }}">{{ flash.content }}</div>
	{% endfor %}
	<div class="mx-auto py-5 w-75">
		{% if add_product_form is defined %}
			<p class="h1 text-center mt-3 mb-4 pb-3">
				<i class="fas fa-circle-plus me-2"></i>
				Ajouter un nouveau produit
			</p>
			{{ form_start(add_product_form) }}
				<div class="row">
					<div class="col-5">
						{{ form_row(add_product_form.name) }}
					</div>
					<div class="col-3">
						{{ form_row(add_product_form.categoryName) }}
					</div>
					<div class="col-2">
						{{ form_row(add_product_form.price) }}
					</div>
					<div class="col-2">
						{{ form_row(add_product_form.quantityInStock) }}
					</div>
				</div>
				{{ form_row(add_product_form.description) }}
				<div class="row d-flex justify-content-between align-items-center">
					<div class="col-7 me-5">
						{{ form_row(add_product_form.imagePath) }}
					</div>
					<div class="col-3">
						<img src="{{ asset_if(product.imagePath, 'images/products/imageNotAvailable.png') }}" class="mt-3 d-block img-thumbnail" style="width: 175px; height: 150px" alt="Image du produit">
					</div>
				</div>
				<div class="row d-flex justify-content-center">
					<div class="col-4">
						{{ form_row(add_product_form.rating) }}
					</div>
					<div class="col-3 ms-5 my-auto">
						{% if product.rating == 0 %}
							<i class="far fa-star text-warning"></i>
							<i class="far fa-star text-warning"></i>
							<i class="far fa-star text-warning"></i>
							<i class="far fa-star text-warning"></i>
							<i class="far fa-star text-warning"></i>
						{% endif %}
						{% if product.rating == 0.5 %}
							<i class="far fa-star-half-stroke text-warning"></i>
							<i class="far fa-star text-warning"></i>
							<i class="far fa-star text-warning"></i>
							<i class="far fa-star text-warning"></i>
							<i class="far fa-star text-warning"></i>
						{% endif %}
						{% if product.rating == 1 %}
							<i class="fas fa-star text-warning"></i>
							<i class="far fa-star text-warning"></i>
							<i class="far fa-star text-warning"></i>
							<i class="far fa-star text-warning"></i>
							<i class="far fa-star text-warning"></i>
						{% endif %}
						{% if product.rating == 1.5 %}
							<i class="fas fa-star text-warning"></i>
							<i class="far fa-star-half-stroke text-warning"></i>
							<i class="far fa-star text-warning"></i>
							<i class="far fa-star text-warning"></i>
							<i class="far fa-star text-warning"></i>
						{% endif %}
						{% if product.rating == 2 %}
							<i class="fas fa-star text-warning"></i>
							<i class="fas fa-star text-warning"></i>
							<i class="far fa-star text-warning"></i>
							<i class="far fa-star text-warning"></i>
							<i class="far fa-star text-warning"></i>
						{% endif %}
						{% if product.rating == 2.5 %}
							<i class="fas fa-star text-warning"></i>
							<i class="fas fa-star text-warning"></i>
							<i class="far fa-star-half-stroke text-warning"></i>
							<i class="far fa-star text-warning"></i>
							<i class="far fa-star text-warning"></i>
						{% endif %}
						{% if product.rating == 3 %}
							<i class="fas fa-star text-warning"></i>
							<i class="fas fa-star text-warning"></i>
							<i class="fas fa-star text-warning"></i>
							<i class="far fa-star text-warning"></i>
							<i class="far fa-star text-warning"></i>
						{% endif %}
						{% if product.rating == 3.5 %}
							<i class="fas fa-star text-warning"></i>
							<i class="fas fa-star text-warning"></i>
							<i class="fas fa-star text-warning"></i>
							<i class="far fa-star-half-stroke text-warning"></i>
							<i class="far fa-star text-warning"></i>
						{% endif %}
						{% if product.rating == 4 %}
							<i class="fas fa-star text-warning"></i>
							<i class="fas fa-star text-warning"></i>
							<i class="fas fa-star text-warning"></i>
							<i class="fas fa-star text-warning"></i>
							<i class="far fa-star text-warning"></i>
						{% endif %}
						{% if product.rating == 4.5 %}
							<i class="fas fa-star text-warning"></i>
							<i class="fas fa-star text-warning"></i>
							<i class="fas fa-star text-warning"></i>
							<i class="fas fa-star text-warning"></i>
							<i class="far fa-star-half-stroke text-warning"></i>
						{% endif %}
						{% if product.rating == 5 %}
							<i class="fas fa-star text-warning"></i>
							<i class="fas fa-star text-warning"></i>
							<i class="fas fa-star text-warning"></i>
							<i class="fas fa-star text-warning"></i>
							<i class="fas fa-star text-warning"></i>
						{% endif %}
					</div>
				</div>
				<div class="d-flex justify-content-center m-3">
					{{ form_row(add_product_form.save, {'attr': {'class': 'btn-outline-warning fs-4' }}) }}
				</div>
				{{ form_end(add_product_form) }}
		{% else %}
			{% if modify_product_form is defined %}
				<p class="h1 text-center mt-3 mb-4 pb-3">
					<i class="fas fa-box me-2"></i>
					Modifier le produit
				</p>
				{{ form_start(modify_product_form) }}
				<div class="row">
					<div class="col-5">
						{{ form_row(modify_product_form.name) }}
					</div>
					<div class="col-3">
						{{ form_row(modify_product_form.categoryName) }}
					</div>
					<div class="col-2">
						{{ form_row(modify_product_form.price) }}
					</div>
					<div class="col-2">
						{{ form_row(modify_product_form.quantityInStock) }}
					</div>
				</div>
				{{ form_row(modify_product_form.description) }}
				<div class="row d-flex justify-content-between align-items-center">
					<div class="col-7 me-5">
						{{ form_row(modify_product_form.imagePath) }}
					</div>
					<div class="col-3">
						<img src="{{ asset_if(product.imagePath, 'images/products/imageNotAvailable.png') }}" class="mt-3 d-block img-thumbnail" style="width: 175px; height: 150px" alt="Image du produit">
					</div>
				</div>
				<div class="row d-flex justify-content-center">
					<div class="col-4">
						{{ form_row(modify_product_form.rating) }}
					</div>
					<div class="col-3 ms-5 my-auto">
						{% if product.rating == 0 %}
							<i class="far fa-star text-warning"></i>
							<i class="far fa-star text-warning"></i>
							<i class="far fa-star text-warning"></i>
							<i class="far fa-star text-warning"></i>
							<i class="far fa-star text-warning"></i>
						{% endif %}
						{% if product.rating == 0.5 %}
							<i class="far fa-star-half-stroke text-warning"></i>
							<i class="far fa-star text-warning"></i>
							<i class="far fa-star text-warning"></i>
							<i class="far fa-star text-warning"></i>
							<i class="far fa-star text-warning"></i>
						{% endif %}
						{% if product.rating == 1 %}
							<i class="fas fa-star text-warning"></i>
							<i class="far fa-star text-warning"></i>
							<i class="far fa-star text-warning"></i>
							<i class="far fa-star text-warning"></i>
							<i class="far fa-star text-warning"></i>
						{% endif %}
						{% if product.rating == 1.5 %}
							<i class="fas fa-star text-warning"></i>
							<i class="far fa-star-half-stroke text-warning"></i>
							<i class="far fa-star text-warning"></i>
							<i class="far fa-star text-warning"></i>
							<i class="far fa-star text-warning"></i>
						{% endif %}
						{% if product.rating == 2 %}
							<i class="fas fa-star text-warning"></i>
							<i class="fas fa-star text-warning"></i>
							<i class="far fa-star text-warning"></i>
							<i class="far fa-star text-warning"></i>
							<i class="far fa-star text-warning"></i>
						{% endif %}
						{% if product.rating == 2.5 %}
							<i class="fas fa-star text-warning"></i>
							<i class="fas fa-star text-warning"></i>
							<i class="far fa-star-half-stroke text-warning"></i>
							<i class="far fa-star text-warning"></i>
							<i class="far fa-star text-warning"></i>
						{% endif %}
						{% if product.rating == 3 %}
							<i class="fas fa-star text-warning"></i>
							<i class="fas fa-star text-warning"></i>
							<i class="fas fa-star text-warning"></i>
							<i class="far fa-star text-warning"></i>
							<i class="far fa-star text-warning"></i>
						{% endif %}
						{% if product.rating == 3.5 %}
							<i class="fas fa-star text-warning"></i>
							<i class="fas fa-star text-warning"></i>
							<i class="fas fa-star text-warning"></i>
							<i class="far fa-star-half-stroke text-warning"></i>
							<i class="far fa-star text-warning"></i>
						{% endif %}
						{% if product.rating == 4 %}
							<i class="fas fa-star text-warning"></i>
							<i class="fas fa-star text-warning"></i>
							<i class="fas fa-star text-warning"></i>
							<i class="fas fa-star text-warning"></i>
							<i class="far fa-star text-warning"></i>
						{% endif %}
						{% if product.rating == 4.5 %}
							<i class="fas fa-star text-warning"></i>
							<i class="fas fa-star text-warning"></i>
							<i class="fas fa-star text-warning"></i>
							<i class="fas fa-star text-warning"></i>
							<i class="far fa-star-half-stroke text-warning"></i>
						{% endif %}
						{% if product.rating == 5 %}
							<i class="fas fa-star text-warning"></i>
							<i class="fas fa-star text-warning"></i>
							<i class="fas fa-star text-warning"></i>
							<i class="fas fa-star text-warning"></i>
							<i class="fas fa-star text-warning"></i>
						{% endif %}
					</div>
				</div>
				<div class="d-flex justify-content-center m-3">
					{{ form_row(modify_product_form.save, {'attr': {'class': 'btn-outline-warning fs-4' }}) }}
				</div>
				{{ form_end(modify_product_form) }}
			{% endif %}
		{% endif %}
	</div>
{% endblock %}
